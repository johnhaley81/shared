'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AccountSettingSchema = exports.AccountSettingPostBodySchema = exports.TwitterFeedbackWithMaybeAnalysisSchema = exports.TwitterFeedbackSchema = exports.EmailFeedbackWithMaybeAnalysisSchema = exports.EmailFeedbackSchema = exports.EmailFeedbackPostBodySchema = exports.WatsonClassifyResponseSchema = exports.FeedbackAnalysisSchema = exports.UserSchema = exports.EmailUserSchema = exports.TwitterUserSchema = exports.SentimentAnalysisResponseSchema = exports.SentenceSchema = exports.CategorySchema = exports.SentimentSchema = exports.TextSpanSchema = exports.SupportedLanguageSchema = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

// https://github.com/benmosher/eslint-plugin-import/issues/921
/* eslint-disable import/named */


var _joiBrowser = require('joi-browser');

var _joiBrowser2 = _interopRequireDefault(_joiBrowser);

var _uuid = require('uuid');

var _uuid2 = _interopRequireDefault(_uuid);

var _YearMonthBucket = require('./YearMonthBucket');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* eslint-enable */

var ModelSavedFieldsSchema = {
  accountId: _joiBrowser2.default.string().required(),
  createdAt: _joiBrowser2.default.string().isoDate().required(),
  id: _joiBrowser2.default.string().guid().default(function () {
    return _uuid2.default.v4();
  }, 'uuid v4'),
  updatedAt: _joiBrowser2.default.string().isoDate()
};

var SupportedLanguageSchema = exports.SupportedLanguageSchema = _joiBrowser2.default.string().valid(['zh', 'zh-Hant', 'en', 'fr', 'de', 'it', 'ja', 'ko', 'pt', 'es']);

var TextSpanSchema = exports.TextSpanSchema = _joiBrowser2.default.object({
  beginOffset: _joiBrowser2.default.number().min(-1).required(),
  content: _joiBrowser2.default.string().required()
}).unknown();

var SentimentSchema = exports.SentimentSchema = _joiBrowser2.default.object({
  magnitude: _joiBrowser2.default.number().min(0).required(),
  score: _joiBrowser2.default.number().min(-1).max(1).required()
}).unknown();

var CategorySchema = exports.CategorySchema = _joiBrowser2.default.object({
  categoryName: _joiBrowser2.default.string().required(),
  confidence: _joiBrowser2.default.number().min(0).max(1).required()
}).unknown();

var SentenceSchema = exports.SentenceSchema = _joiBrowser2.default.object({
  sentiment: SentimentSchema.required(),
  text: TextSpanSchema.required()
}).unknown();

var SentimentAnalysisResponseSchema = exports.SentimentAnalysisResponseSchema = _joiBrowser2.default.object({
  documentSentiment: SentimentSchema.required(),
  language: SupportedLanguageSchema.required(),
  sentences: _joiBrowser2.default.array().items(SentenceSchema).default(function () {
    return [];
  }, 'Do not allow undefined or null to come out of the DB')
}).unknown();

var TwitterUserSchema = exports.TwitterUserSchema = _joiBrowser2.default.object({
  avatarUrl: _joiBrowser2.default.string().uri().required(),
  id: _joiBrowser2.default.string().required(),
  username: _joiBrowser2.default.string().required()
}).unknown();

var EmailUserSchema = exports.EmailUserSchema = _joiBrowser2.default.object({
  id: _joiBrowser2.default.string().email().required()
}).unknown();

var UserSchema = exports.UserSchema = _joiBrowser2.default.compile([TwitterUserSchema, EmailUserSchema]);

var FeedbackAnalysisSchema = exports.FeedbackAnalysisSchema = _joiBrowser2.default.object(_extends({}, ModelSavedFieldsSchema, {
  contentSentiment: SentimentSchema.required(),
  documentCategorization: _joiBrowser2.default.array().items(CategorySchema).default(function () {
    return [];
  }, 'Do not allow undefined or null to come out of the DB'),
  feedbackId: _joiBrowser2.default.string().guid().default(function () {
    return _uuid2.default.v4();
  }, 'uuid v4'),
  feedbackType: _joiBrowser2.default.string().valid(['email', 'twitter']).required(),
  sentences: _joiBrowser2.default.array().items(SentenceSchema.keys({
    categorization: _joiBrowser2.default.array().items(CategorySchema).default(function () {
      return [];
    }, 'Do not allow undefined or null to come out of the DB')
  }).required()).default(function () {
    return [];
  }, 'Do not allow undefined or null to come out of the DB'),
  topDocumentCategories: _joiBrowser2.default.array().items(_joiBrowser2.default.string()).default(function () {
    return [];
  }, 'Do not allow undefined or null to come out of the DB'),
  topSentenceCategories: _joiBrowser2.default.array().items(_joiBrowser2.default.string()).default(function () {
    return [];
  }, 'Do not allow undefined or null to come out of the DB'),
  user: UserSchema,
  userId: _joiBrowser2.default.string().required()
})).unknown().required();

var WatsonClassifyResponseSchema = exports.WatsonClassifyResponseSchema = _joiBrowser2.default.object({
  classes: _joiBrowser2.default.array().items(_joiBrowser2.default.object({
    class_name: _joiBrowser2.default.string().required(),
    confidence: _joiBrowser2.default.number().min(0).max(1).required()
  }).unknown()).default(function () {
    return [];
  }, 'Do not allow undefined or null to come out of the DB'),
  classifier_id: _joiBrowser2.default.string().required(),
  text: _joiBrowser2.default.string().required(),
  top_class: _joiBrowser2.default.string().required(),
  url: _joiBrowser2.default.string().uri({ allowRelative: true }).required()
});

var EmailFeedbackPostBodySchema = exports.EmailFeedbackPostBodySchema = _joiBrowser2.default.object({
  content: _joiBrowser2.default.string().required(),
  emailSentDate: _joiBrowser2.default.string().isoDate().required(),
  from: _joiBrowser2.default.string().email().required(),
  subject: _joiBrowser2.default.string().required(),
  to: _joiBrowser2.default.string().email().required()
}).unknown().required();

var EmailFeedbackSchema = exports.EmailFeedbackSchema = EmailFeedbackPostBodySchema.keys(_extends({}, ModelSavedFieldsSchema)).unknown().required();

var EmailFeedbackWithMaybeAnalysisSchema = exports.EmailFeedbackWithMaybeAnalysisSchema = EmailFeedbackSchema.keys({
  analysis: FeedbackAnalysisSchema.keys({
    feedbackType: _joiBrowser2.default.string().valid(['email']).required()
  })
}).unknown().required();

var TwitterFeedbackSchema = exports.TwitterFeedbackSchema = _joiBrowser2.default.object(_extends({}, ModelSavedFieldsSchema, {
  statusId: _joiBrowser2.default.string().required(),
  user: TwitterUserSchema.required()
})).unknown().required();

var TwitterFeedbackWithMaybeAnalysisSchema = exports.TwitterFeedbackWithMaybeAnalysisSchema = TwitterFeedbackSchema.keys({
  analysis: FeedbackAnalysisSchema.keys({
    feedbackType: _joiBrowser2.default.string().valid(['twitter']).required()
  })
}).unknown().required();

var AccountSettingPostBodySchema = exports.AccountSettingPostBodySchema = _joiBrowser2.default.object({
  twitterSearches: _joiBrowser2.default.array().items(_joiBrowser2.default.string()).default(function () {
    return [];
  }, 'Do not allow undefined or null to come out of the DB')
}).unknown().required();

var AccountSettingSchema = exports.AccountSettingSchema = _joiBrowser2.default.object(_extends({}, ModelSavedFieldsSchema, {
  feedbackUsageByDate: _joiBrowser2.default.object().pattern(_YearMonthBucket.YearMonthBucketRegex, _joiBrowser2.default.number().min(0).required()).required(),
  id: _joiBrowser2.default.string().required(),
  tier: _joiBrowser2.default.string().valid(['notApproved', 'free']).required(),
  twitterSearches: _joiBrowser2.default.array().items(_joiBrowser2.default.string()).default(function () {
    return [];
  }, 'Do not allow undefined or null to come out of the DB')
})).unknown().required();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJNb2RlbFNhdmVkRmllbGRzU2NoZW1hIiwiYWNjb3VudElkIiwic3RyaW5nIiwicmVxdWlyZWQiLCJjcmVhdGVkQXQiLCJpc29EYXRlIiwiaWQiLCJndWlkIiwiZGVmYXVsdCIsInY0IiwidXBkYXRlZEF0IiwiU3VwcG9ydGVkTGFuZ3VhZ2VTY2hlbWEiLCJ2YWxpZCIsIlRleHRTcGFuU2NoZW1hIiwib2JqZWN0IiwiYmVnaW5PZmZzZXQiLCJudW1iZXIiLCJtaW4iLCJjb250ZW50IiwidW5rbm93biIsIlNlbnRpbWVudFNjaGVtYSIsIm1hZ25pdHVkZSIsInNjb3JlIiwibWF4IiwiQ2F0ZWdvcnlTY2hlbWEiLCJjYXRlZ29yeU5hbWUiLCJjb25maWRlbmNlIiwiU2VudGVuY2VTY2hlbWEiLCJzZW50aW1lbnQiLCJ0ZXh0IiwiU2VudGltZW50QW5hbHlzaXNSZXNwb25zZVNjaGVtYSIsImRvY3VtZW50U2VudGltZW50IiwibGFuZ3VhZ2UiLCJzZW50ZW5jZXMiLCJhcnJheSIsIml0ZW1zIiwiVHdpdHRlclVzZXJTY2hlbWEiLCJhdmF0YXJVcmwiLCJ1cmkiLCJ1c2VybmFtZSIsIkVtYWlsVXNlclNjaGVtYSIsImVtYWlsIiwiVXNlclNjaGVtYSIsImNvbXBpbGUiLCJGZWVkYmFja0FuYWx5c2lzU2NoZW1hIiwiY29udGVudFNlbnRpbWVudCIsImRvY3VtZW50Q2F0ZWdvcml6YXRpb24iLCJmZWVkYmFja0lkIiwiZmVlZGJhY2tUeXBlIiwia2V5cyIsImNhdGVnb3JpemF0aW9uIiwidG9wRG9jdW1lbnRDYXRlZ29yaWVzIiwidG9wU2VudGVuY2VDYXRlZ29yaWVzIiwidXNlciIsInVzZXJJZCIsIldhdHNvbkNsYXNzaWZ5UmVzcG9uc2VTY2hlbWEiLCJjbGFzc2VzIiwiY2xhc3NfbmFtZSIsImNsYXNzaWZpZXJfaWQiLCJ0b3BfY2xhc3MiLCJ1cmwiLCJhbGxvd1JlbGF0aXZlIiwiRW1haWxGZWVkYmFja1Bvc3RCb2R5U2NoZW1hIiwiZW1haWxTZW50RGF0ZSIsImZyb20iLCJzdWJqZWN0IiwidG8iLCJFbWFpbEZlZWRiYWNrU2NoZW1hIiwiRW1haWxGZWVkYmFja1dpdGhNYXliZUFuYWx5c2lzU2NoZW1hIiwiYW5hbHlzaXMiLCJUd2l0dGVyRmVlZGJhY2tTY2hlbWEiLCJzdGF0dXNJZCIsIlR3aXR0ZXJGZWVkYmFja1dpdGhNYXliZUFuYWx5c2lzU2NoZW1hIiwiQWNjb3VudFNldHRpbmdQb3N0Qm9keVNjaGVtYSIsInR3aXR0ZXJTZWFyY2hlcyIsIkFjY291bnRTZXR0aW5nU2NoZW1hIiwiZmVlZGJhY2tVc2FnZUJ5RGF0ZSIsInBhdHRlcm4iLCJ0aWVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFLQTtBQUNBOzs7QUFKQTs7OztBQUNBOzs7O0FBSUE7Ozs7QUFJQTs7QUFTQSxJQUFNQSx5QkFBeUI7QUFDN0JDLGFBQVcscUJBQUlDLE1BQUosR0FBYUMsUUFBYixFQURrQjtBQUU3QkMsYUFBVyxxQkFBSUYsTUFBSixHQUNSRyxPQURRLEdBRVJGLFFBRlEsRUFGa0I7QUFLN0JHLE1BQUkscUJBQUlKLE1BQUosR0FDREssSUFEQyxHQUVEQyxPQUZDLENBRU87QUFBQSxXQUFNLGVBQUtDLEVBQUwsRUFBTjtBQUFBLEdBRlAsRUFFd0IsU0FGeEIsQ0FMeUI7QUFRN0JDLGFBQVcscUJBQUlSLE1BQUosR0FBYUcsT0FBYjtBQVJrQixDQUEvQjs7QUF1Qk8sSUFBTU0sNERBQTBCLHFCQUFJVCxNQUFKLEdBQWFVLEtBQWIsQ0FBbUIsQ0FDeEQsSUFEd0QsRUFFeEQsU0FGd0QsRUFHeEQsSUFId0QsRUFJeEQsSUFKd0QsRUFLeEQsSUFMd0QsRUFNeEQsSUFOd0QsRUFPeEQsSUFQd0QsRUFReEQsSUFSd0QsRUFTeEQsSUFUd0QsRUFVeEQsSUFWd0QsQ0FBbkIsQ0FBaEM7O0FBa0JBLElBQU1DLDBDQUFpQixxQkFBSUMsTUFBSixDQUFXO0FBQ3ZDQyxlQUFhLHFCQUFJQyxNQUFKLEdBQ1ZDLEdBRFUsQ0FDTixDQUFD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QVV6Qix1QkFBdUJLLElBQXZCLENBQTRCO0FBQ3BDRCxrQkFBYyxxQkFBSTlDLE1BQUosR0FDWFUsS0FEVyxDQUNMLENBQUMsU0FBRCxDQURLLEVBRVhULFFBRlc7QUFEc0IsR0FBNUI7QUFEWixDQURvRCxFQVNuRGdCLE9BVG1ELEdBVW5EaEIsUUFWbUQsRUFBL0M7O0FBa0JBLElBQU1zRSxzRUFBK0IscUJBQUkzRCxNQUFKLENBQVc7QUFDckQ0RCxtQkFBaUIscUJBQUl4QyxLQUFKLEdBQ2RDLEtBRGMsQ0FDUixxQkFBSWpDLE1BQUosRUFEUSxFQUVkTSxPQUZjLENBRU47QUFBQSxXQUFNLEVBQU47QUFBQSxHQUZNLEVBRUksc0RBRko7QUFEb0MsQ0FBWCxFQUt6Q1csT0FMeUMsR0FNekNoQixRQU55QyxFQUFyQzs7QUFzQkEsSUFBTXdFLHNEQUF1QixxQkFBSTdELE1BQUosY0FDL0JkLHNCQUQrQjtBQUVsQzRFLHVCQUFxQixxQkFBSTlELE1BQUosR0FDbEIrRCxPQURrQix3Q0FHakIscUJBQUk3RCxNQUFKLEdBQ0dDLEdBREgsQ0FDTyxDQURQLEVBRUdkLFFBRkgsRUFIaUIsRUFPbEJBLFFBUGtCLEVBRmE7QUFVbENHLE1BQUkscUJBQUlKLE1BQUosR0FBYUMsUUFBYixFQVY4QjtBQVdsQzJFLFFBQU0scUJBQUk1RSxNQUFKLEdBQ0hVLEtBREcsQ0FDRyxDQUFDLGFBQUQsRUFBZ0IsTUFBaEIsQ0FESCxFQUVIVCxRQUZHLEVBWDRCO0FBY2xDdUUsbUJBQWlCLHFCQUFJeEMsS0FBSixHQUNkQyxLQURjLENBQ1IscUJBQUlqQyxNQUFKLEVBRFEsRUFFZE0sT0FGYyxDQUVOO0FBQUEsV0FBTSxFQUFOO0FBQUEsR0FGTSxFQUVJLHNEQUZKO0FBZGlCLElBa0JqQ1csT0FsQmlDLEdBbUJqQ2hCLFFBbkJpQyxFQUE3QiIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEBmbG93XG5cbmltcG9ydCBKb2kgZnJvbSAnam9pLWJyb3dzZXInO1xuaW1wb3J0IHV1aWQgZnJvbSAndXVpZCc7XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iZW5tb3NoZXIvZXNsaW50LXBsdWdpbi1pbXBvcnQvaXNzdWVzLzkyMVxuLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25hbWVkICovXG5pbXBvcnQge1xuICBZZWFyTW9udGhCdWNrZXRSZWdleCxcbiAgdHlwZSBZZWFyTW9udGhCdWNrZXRUeXBlLFxufSBmcm9tICcuL1llYXJNb250aEJ1Y2tldCc7XG4vKiBlc2xpbnQtZW5hYmxlICovXG5cbmV4cG9ydCB0eXBlIE1vZGVsU2F2ZWRGaWVsZHNUeXBlID0ge3xcbiAgYWNjb3VudElkOiBzdHJpbmcsXG4gIGNyZWF0ZWRBdDogc3RyaW5nLFxuICBpZDogc3RyaW5nLFxuICB1cGRhdGVkQXQ/OiBzdHJpbmcsXG58fTtcblxuY29uc3QgTW9kZWxTYXZlZEZpZWxkc1NjaGVtYSA9IHtcbiAgYWNjb3VudElkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgY3JlYXRlZEF0OiBKb2kuc3RyaW5nKClcbiAgICAuaXNvRGF0ZSgpXG4gICAgLnJlcXVpcmVkKCksXG4gIGlkOiBKb2kuc3RyaW5nKClcbiAgICAuZ3VpZCgpXG4gICAgLmRlZmF1bHQoKCkgPT4gdXVpZC52NCgpLCAndXVpZCB2NCcpLFxuICB1cGRhdGVkQXQ6IEpvaS5zdHJpbmcoKS5pc29EYXRlKCksXG59O1xuXG5leHBvcnQgdHlwZSBTdXBwb3J0ZWRMYW5ndWFnZVR5cGUgPVxuICB8ICd6aCdcbiAgfCAnemgtSGFudCdcbiAgfCAnZW4nXG4gIHwgJ2ZyJ1xuICB8ICdkZSdcbiAgfCAnaXQnXG4gIHwgJ2phJ1xuICB8ICdrbydcbiAgfCAncHQnXG4gIHwgJ2VzJztcblxuZXhwb3J0IGNvbnN0IFN1cHBvcnRlZExhbmd1YWdlU2NoZW1hID0gSm9pLnN0cmluZygpLnZhbGlkKFtcbiAgJ3poJyxcbiAgJ3poLUhhbnQnLFxuICAnZW4nLFxuICAnZnInLFxuICAnZGUnLFxuICAnaXQnLFxuICAnamEnLFxuICAna28nLFxuICAncHQnLFxuICAnZXMnLFxuXSk7XG5cbnR5cGUgVGV4dFNwYW5UeXBlID0ge1xuICBiZWdpbk9mZnNldDogbnVtYmVyLFxuICBjb250ZW50OiBzdHJpbmcsXG59O1xuXG5leHBvcnQgY29uc3QgVGV4dFNwYW5TY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgYmVnaW5PZmZzZXQ6IEpvaS5udW1iZXIoKVxuICAgIC5taW4oLTEpXG4gICAgLnJlcXVpcmVkKCksXG4gIGNvbnRlbnQ6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxufSkudW5rbm93bigpO1xuXG5leHBvcnQgdHlwZSBTZW50aW1lbnRUeXBlID0ge3xcbiAgbWFnbml0dWRlOiBudW1iZXIsXG4gIHNjb3JlOiBudW1iZXIsXG58fTtcblxuZXhwb3J0IGNvbnN0IFNlbnRpbWVudFNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICBtYWduaXR1ZGU6IEpvaS5udW1iZXIoKVxuICAgIC5taW4oMClcbiAgICAucmVxdWlyZWQoKSxcbiAgc2NvcmU6IEpvaS5udW1iZXIoKVxuICAgIC5taW4oLTEpXG4gICAgLm1heCgxKVxuICAgIC5yZXF1aXJlZCgpLFxufSkudW5rbm93bigpO1xuXG5leHBvcnQgdHlwZSBDYXRlZ29yeUNvbmZpZGVuY2VUeXBlID0ge1xuICBjYXRlZ29yeU5hbWU6IHN0cmluZyxcbiAgY29uZmlkZW5jZTogbnVtYmVyLFxufTtcblxuZXhwb3J0IGNvbnN0IENhdGVnb3J5U2NoZW1hID0gSm9pLm9iamVjdCh7XG4gIGNhdGVnb3J5TmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIGNvbmZpZGVuY2U6IEpvaS5udW1iZXIoKVxuICAgIC5taW4oMClcbiAgICAubWF4KDEpXG4gICAgLnJlcXVpcmVkKCksXG59KS51bmtub3duKCk7XG5cbmV4cG9ydCB0eXBlIFNlbnRlbmNlVHlwZSA9IHt8XG4gIHNlbnRpbWVudDogU2VudGltZW50VHlwZSxcbiAgdGV4dDogVGV4dFNwYW5UeXBlLFxufH07XG5cbmV4cG9ydCBjb25zdCBTZW50ZW5jZVNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICBzZW50aW1lbnQ6IFNlbnRpbWVudFNjaGVtYS5yZXF1aXJlZCgpLFxuICB0ZXh0OiBUZXh0U3BhblNjaGVtYS5yZXF1aXJlZCgpLFxufSkudW5rbm93bigpO1xuXG5leHBvcnQgdHlwZSBTZW50aW1lbnRBbmFseXNpc1Jlc3BvbnNlVHlwZSA9IHt8XG4gIGRvY3VtZW50U2VudGltZW50OiBTZW50aW1lbnRUeXBlLFxuICBsYW5ndWFnZTogU3VwcG9ydGVkTGFuZ3VhZ2VUeXBlLFxuICBzZW50ZW5jZXM6IFNlbnRlbmNlVHlwZVtdLFxufH07XG5cbmV4cG9ydCBjb25zdCBTZW50aW1lbnRBbmFseXNpc1Jlc3BvbnNlU2NoZW1hID0gSm9pLm9iamVjdCh7XG4gIGRvY3VtZW50U2VudGltZW50OiBTZW50aW1lbnRTY2hlbWEucmVxdWlyZWQoKSxcbiAgbGFuZ3VhZ2U6IFN1cHBvcnRlZExhbmd1YWdlU2NoZW1hLnJlcXVpcmVkKCksXG4gIHNlbnRlbmNlczogSm9pLmFycmF5KClcbiAgICAuaXRlbXMoU2VudGVuY2VTY2hlbWEpXG4gICAgLmRlZmF1bHQoKCkgPT4gW10sICdEbyBub3QgYWxsb3cgdW5kZWZpbmVkIG9yIG51bGwgdG8gY29tZSBvdXQgb2YgdGhlIERCJyksXG59KS51bmtub3duKCk7XG5cbmV4cG9ydCB0eXBlIEZlZWRiYWNrVHlwZSA9ICdlbWFpbCcgfCAndHdpdHRlcic7XG5cbmV4cG9ydCB0eXBlIFR3aXR0ZXJVc2VyVHlwZSA9IHt8XG4gIGF2YXRhclVybDogc3RyaW5nLFxuICBpZDogc3RyaW5nLFxuICB1c2VybmFtZTogc3RyaW5nLFxufH07XG5cbmV4cG9ydCBjb25zdCBUd2l0dGVyVXNlclNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICBhdmF0YXJVcmw6IEpvaS5zdHJpbmcoKVxuICAgIC51cmkoKVxuICAgIC5yZXF1aXJlZCgpLFxuICBpZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIHVzZXJuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbn0pLnVua25vd24oKTtcblxuZXhwb3J0IHR5cGUgRW1haWxVc2VyVHlwZSA9IHt8XG4gIGlkOiBzdHJpbmcsXG58fTtcblxuZXhwb3J0IGNvbnN0IEVtYWlsVXNlclNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICBpZDogSm9pLnN0cmluZygpXG4gICAgLmVtYWlsKClcbiAgICAucmVxdWlyZWQoKSxcbn0pLnVua25vd24oKTtcblxuZXhwb3J0IHR5cGUgVXNlclR5cGUgPSBFbWFpbFVzZXJUeXBlIHwgVHdpdHRlclVzZXJUeXBlO1xuXG5leHBvcnQgY29uc3QgVXNlclNjaGVtYSA9IEpvaS5jb21waWxlKFtUd2l0dGVyVXNlclNjaGVtYSwgRW1haWxVc2VyU2NoZW1hXSk7XG5cbmV4cG9ydCB0eXBlIEZlZWRiYWNrU2VudGltZW50QW5kQ2F0ZWdvcml6YXRpb25UeXBlID0ge3xcbiAgY29udGVudFNlbnRpbWVudDogU2VudGltZW50VHlwZSxcbiAgZG9jdW1lbnRDYXRlZ29yaXphdGlvbjogQ2F0ZWdvcnlDb25maWRlbmNlVHlwZVtdLFxuICBzZW50ZW5jZXM6IEFycmF5PHtcbiAgICBjYXRlZ29yaXphdGlvbjogQ2F0ZWdvcnlDb25maWRlbmNlVHlwZVtdLFxuICAgIC4uLlNlbnRlbmNlVHlwZSxcbiAgfT4sXG4gIHRvcERvY3VtZW50Q2F0ZWdvcmllczogQXJyYXk8c3RyaW5nPixcbiAgdG9wU2VudGVuY2VDYXRlZ29yaWVzOiBBcnJheTxzdHJpbmc+LFxufH07XG5cbmV4cG9ydCB0eXBlIEZlZWRiYWNrQW5hbHlzaXNVbnNhdmVkVHlwZSA9IHt8XG4gIC4uLkZlZWRiYWNrU2VudGltZW50QW5kQ2F0ZWdvcml6YXRpb25UeXBlLFxuICBhY2NvdW50SWQ6IHN0cmluZyxcbiAgZmVlZGJhY2tJZDogc3RyaW5nLFxuICBmZWVkYmFja1R5cGU6IEZlZWRiYWNrVHlwZSxcbiAgdXNlcjogVXNlclR5cGUsXG4gIHVzZXJJZDogc3RyaW5nLFxufH07XG5cbmV4cG9ydCB0eXBlIEZlZWRiYWNrQW5hbHlzaXNUeXBlID0ge1xuICAuLi5GZWVkYmFja0FuYWx5c2lzVW5zYXZlZFR5cGUsXG4gIC4uLk1vZGVsU2F2ZWRGaWVsZHNUeXBlLFxufTtcblxuZXhwb3J0IGNvbnN0IEZlZWRiYWNrQW5hbHlzaXNTY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgLi4uTW9kZWxTYXZlZEZpZWxkc1NjaGVtYSxcbiAgY29udGVudFNlbnRpbWVudDogU2VudGltZW50U2NoZW1hLnJlcXVpcmVkKCksXG4gIGRvY3VtZW50Q2F0ZWdvcml6YXRpb246IEpvaS5hcnJheSgpXG4gICAgLml0ZW1zKENhdGVnb3J5U2NoZW1hKVxuICAgIC5kZWZhdWx0KCgpID0+IFtdLCAnRG8gbm90IGFsbG93IHVuZGVmaW5lZCBvciBudWxsIHRvIGNvbWUgb3V0IG9mIHRoZSBEQicpLFxuICBmZWVkYmFja0lkOiBKb2kuc3RyaW5nKClcbiAgICAuZ3VpZCgpXG4gICAgLmRlZmF1bHQoKCkgPT4gdXVpZC52NCgpLCAndXVpZCB2NCcpLFxuICBmZWVkYmFja1R5cGU6IEpvaS5zdHJpbmcoKVxuICAgIC52YWxpZChbJ2VtYWlsJywgJ3R3aXR0ZXInXSlcbiAgICAucmVxdWlyZWQoKSxcbiAgc2VudGVuY2VzOiBKb2kuYXJyYXkoKVxuICAgIC5pdGVtcyhcbiAgICAgIFNlbnRlbmNlU2NoZW1hLmtleXMoe1xuICAgICAgICBjYXRlZ29yaXphdGlvbjogSm9pLmFycmF5KClcbiAgICAgICAgICAuaXRlbXMoQ2F0ZWdvcnlTY2hlbWEpXG4gICAgICAgICAgLmRlZmF1bHQoXG4gICAgICAgICAgICAoKSA9PiBbXSxcbiAgICAgICAgICAgICdEbyBub3QgYWxsb3cgdW5kZWZpbmVkIG9yIG51bGwgdG8gY29tZSBvdXQgb2YgdGhlIERCJ1xuICAgICAgICAgICksXG4gICAgICB9KS5yZXF1aXJlZCgpXG4gICAgKVxuICAgIC5kZWZhdWx0KCgpID0+IFtdLCAnRG8gbm90IGFsbG93IHVuZGVmaW5lZCBvciBudWxsIHRvIGNvbWUgb3V0IG9mIHRoZSBEQicpLFxuICB0b3BEb2N1bWVudENhdGVnb3JpZXM6IEpvaS5hcnJheSgpXG4gICAgLml0ZW1zKEpvaS5zdHJpbmcoKSlcbiAgICAuZGVmYXVsdCgoKSA9PiBbXSwgJ0RvIG5vdCBhbGxvdyB1bmRlZmluZWQgb3IgbnVsbCB0byBjb21lIG91dCBvZiB0aGUgREInKSxcbiAgdG9wU2VudGVuY2VDYXRlZ29yaWVzOiBKb2kuYXJyYXkoKVxuICAgIC5pdGVtcyhKb2kuc3RyaW5nKCkpXG4gICAgLmRlZmF1bHQoKCkgPT4gW10sICdEbyBub3QgYWxsb3cgdW5kZWZpbmVkIG9yIG51bGwgdG8gY29tZSBvdXQgb2YgdGhlIERCJyksXG4gIHVzZXI6IFVzZXJTY2hlbWEsXG4gIHVzZXJJZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG59KVxuICAudW5rbm93bigpXG4gIC5yZXF1aXJlZCgpO1xuXG5leHBvcnQgdHlwZSBXYXRzb25DbGFzc2lmeVJlc3BvbnNlVHlwZSA9IHtcbiAgY2xhc3NlczogQXJyYXk8eyBjbGFzc19uYW1lOiBzdHJpbmcsIGNvbmZpZGVuY2U6IG51bWJlciB9PixcbiAgY2xhc3NpZmllcl9pZDogc3RyaW5nLFxuICB0ZXh0OiBzdHJpbmcsXG4gIHRvcF9jbGFzczogc3RyaW5nLFxuICB1cmw6IHN0cmluZyxcbn07XG5cbmV4cG9ydCBjb25zdCBXYXRzb25DbGFzc2lmeVJlc3BvbnNlU2NoZW1hID0gSm9pLm9iamVjdCh7XG4gIGNsYXNzZXM6IEpvaS5hcnJheSgpXG4gICAgLml0ZW1zKFxuICAgICAgSm9pLm9iamVjdCh7XG4gICAgICAgIGNsYXNzX25hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBjb25maWRlbmNlOiBKb2kubnVtYmVyKClcbiAgICAgICAgICAubWluKDApXG4gICAgICAgICAgLm1heCgxKVxuICAgICAgICAgIC5yZXF1aXJlZCgpLFxuICAgICAgfSkudW5rbm93bigpXG4gICAgKVxuICAgIC5kZWZhdWx0KCgpID0+IFtdLCAnRG8gbm90IGFsbG93IHVuZGVmaW5lZCBvciBudWxsIHRvIGNvbWUgb3V0IG9mIHRoZSBEQicpLFxuICBjbGFzc2lmaWVyX2lkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgdGV4dDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIHRvcF9jbGFzczogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIHVybDogSm9pLnN0cmluZygpXG4gICAgLnVyaSh7IGFsbG93UmVsYXRpdmU6IHRydWUgfSlcbiAgICAucmVxdWlyZWQoKSxcbn0pO1xuXG5leHBvcnQgdHlwZSBFbWFpbEZlZWRiYWNrUG9zdEJvZHlUeXBlID0ge3xcbiAgY29udGVudDogc3RyaW5nLFxuICBlbWFpbFNlbnREYXRlOiBzdHJpbmcsXG4gIGZyb206IHN0cmluZyxcbiAgc3ViamVjdDogc3RyaW5nLFxuICB0bzogc3RyaW5nLFxufH07XG5cbmV4cG9ydCBjb25zdCBFbWFpbEZlZWRiYWNrUG9zdEJvZHlTY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgY29udGVudDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIGVtYWlsU2VudERhdGU6IEpvaS5zdHJpbmcoKVxuICAgIC5pc29EYXRlKClcbiAgICAucmVxdWlyZWQoKSxcbiAgZnJvbTogSm9pLnN0cmluZygpXG4gICAgLmVtYWlsKClcbiAgICAucmVxdWlyZWQoKSxcbiAgc3ViamVjdDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIHRvOiBKb2kuc3RyaW5nKClcbiAgICAuZW1haWwoKVxuICAgIC5yZXF1aXJlZCgpLFxufSlcbiAgLnVua25vd24oKVxuICAucmVxdWlyZWQoKTtcblxuZXhwb3J0IHR5cGUgRW1haWxGZWVkYmFja1Vuc2F2ZWRUeXBlID0ge3xcbiAgLi4uRW1haWxGZWVkYmFja1Bvc3RCb2R5VHlwZSxcbiAgYWNjb3VudElkOiBzdHJpbmcsXG58fTtcblxuZXhwb3J0IHR5cGUgRW1haWxGZWVkYmFja1R5cGUgPSB7XG4gIC4uLkVtYWlsRmVlZGJhY2tVbnNhdmVkVHlwZSxcbiAgLi4uTW9kZWxTYXZlZEZpZWxkc1R5cGUsXG59O1xuXG5leHBvcnQgY29uc3QgRW1haWxGZWVkYmFja1NjaGVtYSA9IEVtYWlsRmVlZGJhY2tQb3N0Qm9keVNjaGVtYS5rZXlzKHtcbiAgLi4uTW9kZWxTYXZlZEZpZWxkc1NjaGVtYSxcbn0pXG4gIC51bmtub3duKClcbiAgLnJlcXVpcmVkKCk7XG5cbmV4cG9ydCB0eXBlIEVtYWlsRmVlZGJhY2tXaXRoTWF5YmVBbmFseXNpc1R5cGUgPSB7XG4gIC4uLkVtYWlsRmVlZGJhY2tUeXBlLFxuICBhbmFseXNpczogPyh7IGZlZWRiYWNrVHlwZTogJ2VtYWlsJyB9ICYgRmVlZGJhY2tBbmFseXNpc1R5cGUpLFxufTtcblxuZXhwb3J0IGNvbnN0IEVtYWlsRmVlZGJhY2tXaXRoTWF5YmVBbmFseXNpc1NjaGVtYSA9IEVtYWlsRmVlZGJhY2tTY2hlbWEua2V5cyh7XG4gIGFuYWx5c2lzOiBGZWVkYmFja0FuYWx5c2lzU2NoZW1hLmtleXMoe1xuICAgIGZlZWRiYWNrVHlwZTogSm9pLnN0cmluZygpXG4gICAgICAudmFsaWQoWydlbWFpbCddKVxuICAgICAgLnJlcXVpcmVkKCksXG4gIH0pLFxufSlcbiAgLnVua25vd24oKVxuICAucmVxdWlyZWQoKTtcblxuZXhwb3J0IHR5cGUgVHdpdHRlckZlZWRiYWNrVW5zYXZlZFR5cGUgPSB7fFxuICBhY2NvdW50SWQ6IHN0cmluZyxcbiAgc3RhdHVzSWQ6IHN0cmluZyxcbiAgdXNlcjogVHdpdHRlclVzZXJUeXBlLFxufH07XG5cbmV4cG9ydCB0eXBlIFR3aXR0ZXJGZWVkYmFja1R5cGUgPSB7XG4gIC4uLlR3aXR0ZXJGZWVkYmFja1Vuc2F2ZWRUeXBlLFxuICAuLi5Nb2RlbFNhdmVkRmllbGRzVHlwZSxcbn07XG5cbmV4cG9ydCBjb25zdCBUd2l0dGVyRmVlZGJhY2tTY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgLi4uTW9kZWxTYXZlZEZpZWxkc1NjaGVtYSxcbiAgc3RhdHVzSWQ6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICB1c2VyOiBUd2l0dGVyVXNlclNjaGVtYS5yZXF1aXJlZCgpLFxufSlcbiAgLnVua25vd24oKVxuICAucmVxdWlyZWQoKTtcblxuZXhwb3J0IHR5cGUgVHdpdHRlckZlZWRiYWNrV2l0aE1heWJlQW5hbHlzaXNUeXBlID0ge1xuICAuLi5Ud2l0dGVyRmVlZGJhY2tUeXBlLFxuICBhbmFseXNpczogPyh7IGZlZWRiYWNrVHlwZTogJ3R3aXR0ZXInIH0gJiBGZWVkYmFja0FuYWx5c2lzVHlwZSksXG59O1xuXG5leHBvcnQgY29uc3QgVHdpdHRlckZlZWRiYWNrV2l0aE1heWJlQW5hbHlzaXNTY2hlbWEgPSBUd2l0dGVyRmVlZGJhY2tTY2hlbWEua2V5cyhcbiAge1xuICAgIGFuYWx5c2lzOiBGZWVkYmFja0FuYWx5c2lzU2NoZW1hLmtleXMoe1xuICAgICAgZmVlZGJhY2tUeXBlOiBKb2kuc3RyaW5nKClcbiAgICAgICAgLnZhbGlkKFsndHdpdHRlciddKVxuICAgICAgICAucmVxdWlyZWQoKSxcbiAgICB9KSxcbiAgfVxuKVxuICAudW5rbm93bigpXG4gIC5yZXF1aXJlZCgpO1xuXG5leHBvcnQgdHlwZSBBY2NvdW50VGllclR5cGUgPSAnbm90QXBwcm92ZWQnIHwgJ2ZyZWUnO1xuXG5leHBvcnQgdHlwZSBBY2NvdW50U2V0dGluZ1Bvc3RCb2R5VHlwZSA9IHt8XG4gIHR3aXR0ZXJTZWFyY2hlczogc3RyaW5nW10sXG58fTtcblxuZXhwb3J0IGNvbnN0IEFjY291bnRTZXR0aW5nUG9zdEJvZHlTY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgdHdpdHRlclNlYXJjaGVzOiBKb2kuYXJyYXkoKVxuICAgIC5pdGVtcyhKb2kuc3RyaW5nKCkpXG4gICAgLmRlZmF1bHQoKCkgPT4gW10sICdEbyBub3QgYWxsb3cgdW5kZWZpbmVkIG9yIG51bGwgdG8gY29tZSBvdXQgb2YgdGhlIERCJyksXG59KVxuICAudW5rbm93bigpXG4gIC5yZXF1aXJlZCgpO1xuXG5leHBvcnQgdHlwZSBBY2NvdW50U2V0dGluZ1Vuc2F2ZWRUeXBlID0ge3xcbiAgLi4uQWNjb3VudFNldHRpbmdQb3N0Qm9keVR5cGUsXG4gIGFjY291bnRJZDogc3RyaW5nLFxuICBmZWVkYmFja1VzYWdlQnlEYXRlOiB7XG4gICAgW2tleTogWWVhck1vbnRoQnVja2V0VHlwZV06IG51bWJlcixcbiAgfSxcbiAgdGllcjogQWNjb3VudFRpZXJUeXBlLFxufH07XG5cbmV4cG9ydCB0eXBlIEFjY291bnRTZXR0aW5nVHlwZSA9IHtcbiAgLi4uQWNjb3VudFNldHRpbmdVbnNhdmVkVHlwZSxcbiAgLi4uTW9kZWxTYXZlZEZpZWxkc1R5cGUsXG59O1xuXG5leHBvcnQgY29uc3QgQWNjb3VudFNldHRpbmdTY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgLi4uTW9kZWxTYXZlZEZpZWxkc1NjaGVtYSxcbiAgZmVlZGJhY2tVc2FnZUJ5RGF0ZTogSm9pLm9iamVjdCgpXG4gICAgLnBhdHRlcm4oXG4gICAgICBZZWFyTW9udGhCdWNrZXRSZWdleCxcbiAgICAgIEpvaS5udW1iZXIoKVxuICAgICAgICAubWluKDApXG4gICAgICAgIC5yZXF1aXJlZCgpXG4gICAgKVxuICAgIC5yZXF1aXJlZCgpLFxuICBpZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIHRpZXI6IEpvaS5zdHJpbmcoKVxuICAgIC52YWxpZChbJ25vdEFwcHJvdmVkJywgJ2ZyZWUnXSlcbiAgICAucmVxdWlyZWQoKSxcbiAgdHdpdHRlclNlYXJjaGVzOiBKb2kuYXJyYXkoKVxuICAgIC5pdGVtcyhKb2kuc3RyaW5nKCkpXG4gICAgLmRlZmF1bHQoKCkgPT4gW10sICdEbyBub3QgYWxsb3cgdW5kZWZpbmVkIG9yIG51bGwgdG8gY29tZSBvdXQgb2YgdGhlIERCJyksXG59KVxuICAudW5rbm93bigpXG4gIC5yZXF1aXJlZCgpO1xuIl19